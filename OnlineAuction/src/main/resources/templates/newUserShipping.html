<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="ISO-8859-1">
        <title>Sign Up!</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous">
            
        <link th:href="@{/styles/button.css}" rel="stylesheet"/>
        <link th:href="@{/styles/centering_styles.css}" rel="stylesheet"/>
        <link th:href="@{/styles/wrapper.css}" rel="stylesheet"/>
        <link th:href="@{/styles/signup.css}" rel="stylesheet"/>
        <link th:href="@{/styles/employee_page.css}" rel="stylesheet"/>
        <link th:href="@{/styles/landing.css}" rel="stylesheet"/>
        <link th:href="@{/styles/userDetails.css}" rel="stylesheet"/>
        
        <!-- font import -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        
        <link href='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css'>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        
        <style>
            th {
            border: 1px solid rgb(173, 210, 252);
            background-color: #e9ecef;
            }
            tr {
            border: 1px solid rgb(173, 210, 252);
            padding: 15px;
            }
            table {
            padding: 15px;
            margin: 50px;
            border-spacing: 0 15px;
            border-collapse: seperate;
            }
        </style>
    </head>
    <body style="background-color: white">
		<!-- header -->
        <div class="card-header d-flex flex-column align-items-center justify-content-center mb-5">
            <h1 style="font-family: 'Poppins'">Sign Up</h1>
        </div>
        
        <form method="post" action="#"
		    th:action="@{/submitShippingAddressSignUp}" object="${shippingDetails}">
	        <table style="width:20vw; justify-content:center; margin-left:auto; margin-right:auto;" class="uniTableForm">
	            <thead>
	                <tr>
	                    <td colspan="3" style="background-color: #D3D3D3;">
	                        <h4>Confirm Shipping Address</h4> <!-- table header -->
	                    </td>
	                </tr>
	            </thead>
	            <tbody>
	                <tr>
	                    <td colspan="3" style="background-color: #89CFF0"><label for="recipient" class="form-label">Recipient</label></td>
	                </tr>
	                <tr>
	                    <td colspan="3">
							<!-- shipping recipient -->
	                        <input type="text" field="*{recipient}" name="recipient" class="form-control"></input> 
	                        <p th:if="${recipientErr != null}" th:text="${recipientErr}"></p>
	                    </td>
	                </tr>
	                <tr>
						<!-- address -->
	                    <td colspan="3" style="background-color: #89CFF0"><label for="streetAddress" class="form-label">Street Address</label></td> 
	                </tr>
	                <tr>
	                    <td colspan="3">
	                        <input type="text" field="*{streetAddress}" name="streetAddress" class="form-control"></input>
	                        <p th:if="${streetAddressErr != null}" th:text="${streetAddressErr}"></p>
	                    </td>
	                </tr>
	                <tr>
						<!-- apt, building, etc -->
	                    <td colspan="3" style="background-color: #89CFF0"><label for="extraLocationInfo" class="form-label">Apt, suite, unit, building, floor, etc.</label></td>
	                </tr>
	                <tr>
	                    <td colspan="3"><input type="text" field="*{extraLocationInfo}" name="extraLocationInfo" class="form-control"></input></td>
	                </tr>
	                <tr>
						<!-- city, state, postal code -->
	                    <td style="background-color: #89CFF0"><label for="city" class="form-label">City</label></td>
	                    <td style="background-color: #89CFF0"><label for="state" class="form-label">State</label></td>
	                    <td style="background-color: #89CFF0"><label for="postalCode" class="form-label">Postal Code</label></td>
	                </tr>
	                <tr>
	                    <td>
							<!-- city error handling -->
	                        <input type="text" field="*{city}" name="city" class="form-control"></input>
	                        <p th:if="${cityErr != null}" th:text="${cityErr}"></p>
	                    </td>
	                    <td>
							<!-- state error handling and form population -->
	                        <select class="form-select" id="stateId" name="stateId">
	                            <option th:each="state : ${states}" th:value="${state.stateName}" th:text="${state.stateName}"></option>
	                        </select>
	                        <p th:if="${stateIdErr}" th:text="${stateId}"></p>
	                    </td>
	                    <td>
							<!-- postal code error handling -->
	                        <input type="number" field="*{postalCode}" name="postalCode" class="form-control"></input>
	                        <p th:if="${postalCodeErr != null}" th:text="${postalCodeErr}"></p>
	                    </td>
	                </tr>
	            </tbody>
	        </table>
	        <div style="margin-top:5px;" class="d-flex justify-content-center mb-3">
				<!-- add button -->
	            <button style="margin-right:50px;" type="submit" name="submit" class="btn btn-lg btn-success">Add</button>
	            <!--<button type="button" class="btn btn-lg btn-danger" disabled
	                th:if="${currUser.shippingDetails == null}">No Shipping Details Added</button>-->
	            <!-- back button -->
	            <a style="margin-left:50px;" class="btn btn-lg btn-danger" th:href="@{/goBackToMainSD}">Back</a>
	        </div>
		</form>      
        
        <!-- submit and back button -->
        <div class="d-flex mb-3 mt-3" style="float:right; padding-right: 45px"> 
            <a class="btn btn-outline-danger ms-1" style="margin-right: 10px" th:href="@{/index}"><span>Back</span></a>
            <input id="mysignupbutton" class="btn btn-outline-success me-1" type="submit" value="Submit">
        </div>
        </form>
        <script>
            function myFunction() {           
              document.getElementById('mysignupbutton').setAttribute('disabled', 'disabled');
            }
        </script>
        </div>
        </th:block>
    </body>
</html>